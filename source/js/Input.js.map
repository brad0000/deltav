{"version":3,"sources":["Input.ts"],"names":[],"mappings":"AACA,IAAU,MAAM,CAoDf;AApDD,WAAU,MAAM,EAAC,CAAC;IAOd,WAAY,MAAM;QACd,iCAAQ,CAAA;QACR,oCAAS,CAAA;QACT,qCAAU,CAAA;QACV,uCAAW,CAAA;QACX,gDAAe,CAAA;QACf,sCAAU,CAAA;QACV,8CAAc,CAAA;QACd,sDAAkB,CAAA;QAClB,oCAAS,CAAA;IACb,CAAC,EAVW,aAAM,KAAN,aAAM,QAUjB;IAVD,IAAY,MAAM,GAAN,aAUX,CAAA;IAID;QAII,YAAY,MAAyB,EAAE,GAAiB;YAFhD,YAAO,GAAG,IAAI,KAAK,EAAW,CAAC;YAGnC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;YACvD,MAAM,CAAC,gBAAgB,CAAC,YAAY,EAAE,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;YAC5D,GAAG,CAAC,gBAAgB,CAAC,SAAS,EAAE,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC,CAAC;YACxD,GAAG,CAAC,gBAAgB,CAAC,OAAO,EAAE,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;QACxD,CAAC;QAEM,MAAM,CAAC,GAAW;YACrB,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAC7B,CAAC;QAEO,KAAK,CAAC,EAAiB;YAC3B,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC;QACrC,CAAC;QAEO,OAAO,CAAC,EAAiB;YAC7B,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;QACpC,CAAC;QAEO,KAAK,CAAC,EAAmB;QAEjC,CAAC;QAEO,KAAK,CAAC,EAAc;YACxB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACxB,CAAC;IACL,CAAC;IA9BY,YAAK,QA8BjB,CAAA;AACL,CAAC,EApDS,MAAM,KAAN,MAAM,QAoDf","file":"Input.js","sourcesContent":["\r\nnamespace deltav {\r\n\r\n    export interface IInput {\r\n        lastClick: MouseEvent;\r\n        isDown(key: CtlKey): boolean;\r\n    }\r\n\r\n    export enum CtlKey {\r\n        Up = 104,\r\n        Down = 98,\r\n        Left = 100,\r\n        Right = 102,\r\n        Accelerate = 38,\r\n        Brake = 40,\r\n        Clockwise = 39,\r\n        AntiClockwise = 37,\r\n        Fire = 17,\r\n    }\r\n    /*\r\n     * http://www.cambiaresearch.com/articles/15/javascript-key-codes\r\n     */\r\n    export class Input implements IInput {\r\n        public lastClick: MouseEvent;\r\n        private pressed = new Array<boolean>();\r\n\r\n        constructor(canvas: HTMLCanvasElement, doc: HTMLDocument) {\r\n            canvas.addEventListener(\"click\", ev => this.click(ev));\r\n            canvas.addEventListener(\"mousewheel\", ev => this.wheel(ev));\r\n            doc.addEventListener(\"keydown\", ev => this.keyDown(ev));\r\n            doc.addEventListener(\"keyup\", ev => this.keyUp(ev));\r\n        }\r\n\r\n        public isDown(key: CtlKey): boolean {\r\n            return this.pressed[key];\r\n        }\r\n\r\n        private keyUp(ev: KeyboardEvent) {\r\n            this.pressed[ev.keyCode] = false;\r\n        }\r\n\r\n        private keyDown(ev: KeyboardEvent) {\r\n            this.pressed[ev.keyCode] = true;\r\n        }\r\n\r\n        private wheel(ev: MouseWheelEvent) {\r\n            // nothing\r\n        }\r\n\r\n        private click(ev: MouseEvent) {\r\n            this.lastClick = ev;\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}